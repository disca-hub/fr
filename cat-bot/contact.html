<!DOCTYPE html>
<html>
<head>
  <title>Formulaire de contact</title>
	    <link href="styles.css" rel="stylesheet">

</head>
<body>
	 <div class="container">
      <div class="row">
        <div class="container py-sm-4">
          <div class="row">
            <div class="col-md-10 my-4 mx-auto">
              <h2 class="text-center">Contact&nbsp;</h2>
              <hr>
              <div class="row no-gutters my-3">
                <div class="col-md-4 pr-2">
                  <div class="list-group text-center my-3">
                    <div class="list-group-item text-white bg-dark">
                      <h4 class="text-center my-1">Contacter en tant que manager</h4>
                    </div>
                    <div class="list-group-item text-uppercase font-weight-bold">
                 <form id="contact-form">
    <label for="username">Pseudo :</label>
    <input type="text" id="username" name="username" required>
    <br>
    <label for="message">Message :</label>
    <textarea id="message" name="message" required></textarea>
    <br>
    <input type="submit" value="Envoyer">
  </form>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
	
  <script>
    const form = document.getElementById('contact-form');
    form.addEventListener('submit', e => {
      e.preventDefault();

      const username = document.getElementById('username').value;
      const message = document.getElementById('message').value;

      const data = {
        username: 'Nouveau formulaire',
        content: `Nouveau formulaire envoyé par :\nPseudo : ${username}\nMessage : ${message}`
      };

      const options = {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify(data)
      };

      fetch('https://discord.com/api/webhooks/1232645671685722146/8A1EGJxYc-ZNKAKQ0rxypDPgkxHxh7N7m7oCbuskNKXSXcxyhIFHTDtcikJ0l5BQUxGX', options)
        .then(response => {
          if (!response.ok) {
            throw new Error('Erreur lors de l\'envoi du formulaire');
          }
          alert('Formulaire envoyé avec succès !');
          form.reset();
        })
        .catch(error => {
          console.error(error);
          alert('Une erreur s\'est produite lors de l\'envoi du formulaire');
        });
    });
  </script>
	
</body>
</html>
